<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Your Payment</title>
    <style>
        /* Same CSS styles as before, just add to a new file or link it */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        
        :root {
            --primary-color: #5d56f9;
            --secondary-color: #3b33d5;
            --light-bg: #f5f6fa;
            --dark-text: #2c3e50;
            --light-text: #ecf0f1;
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
        }

        .payment-container {
            background: #fff;
            padding: 50px;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            max-width: 600px;
            width: 90%;
        }

        .payment-container h2 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .payment-container p {
            font-size: 1.1rem;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        .payment-details {
            margin-top: 30px;
        }

        .payment-details img.qr-code {
            max-width: 250px;
            margin-bottom: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
        }

        .payment-details .price {
            font-size: 2.5rem;
            font-weight: 700;
            color: #27ae60;
            margin-bottom: 15px;
        }

        .payment-details .plan-name {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 35px;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: transform 0.3s ease, background-color 0.3s ease;
            border: none;
            cursor: pointer;
        }
        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-5px);
        }

        #submitStatus {
            margin-top: 20px;
            color: #e74c3c;
            display: none;
        }
    </style>
</head>
<body>

    <div class="payment-container">
        <h2>Complete Your Payment</h2>
        <p>You have selected the <strong id="planName"></strong> plan for <strong id="planPrice"></strong>.</p>
        <p>Please make the payment and upload a screenshot to submit your request.</p>
        
        <div class="payment-details">
            <img id="qrCodeImg" src="" alt="QR Code" class="qr-code">
            <p><strong>UPI ID:</strong> <span id="upiIdText">9988720946@fam</span></p>
            <p>Once paid, please upload a screenshot of your payment.</p>
        </div>

        <form id="paymentForm">
            <div class="form-group">
                <label for="paymentScreenshot">Upload Payment Screenshot</label>
                <input type="file" id="paymentScreenshot" name="paymentScreenshot" accept="image/*" required>
            </div>
            <button type="submit" class="btn">Submit Request</button>
        </form>
        <p id="submitStatus">Uploading your details...</p>
    </div>

    <script>document.addEventListener('DOMContentLoaded', () => {
    const formData = JSON.parse(sessionStorage.getItem('formData'));
    if (!formData) {
        window.location.href = 'index.html';
        return;
    }

    document.getElementById('planName').textContent = formData.plan;
    document.getElementById('planPrice').textContent = `₹${formData.price}`;

    const qrCodeImg = document.getElementById('qrCodeImg');const qrCodeUrl = {
    starter: 'starter.png',
    business: 'business.png',
    ecommerce: 'ecommerce.png'
};
    qrCodeImg.src = qrCodeUrl[formData.plan] || '';

    const paymentForm = document.getElementById('paymentForm');
    const submitStatus = document.getElementById('submitStatus');

    const TELEGRAM_BOT_TOKEN = "8249458824:AAFdQriId6KC_7D2QPOuPeNxrOOzWaGR2o8";
    const TELEGRAM_CHAT_ID = "7902319282";

    paymentForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        submitStatus.style.display = 'block';
        submitStatus.textContent = "Submitting your request...";

        const screenshotFile = document.getElementById('paymentScreenshot').files[0];

        if (!screenshotFile) {
            alert("Please upload your payment screenshot!");
            submitStatus.style.display = 'none';
            return;
        }

        // Create formData for image upload
        const imageForm = new FormData();
        imageForm.append("chat_id", TELEGRAM_CHAT_ID);
        imageForm.append("photo", screenshotFile);
        imageForm.append("caption", `
New Website Request:
Name: ${formData.fullName}
Email: ${formData.email}
WhatsApp: ${formData.whatsappNumber}
Plan: ${formData.plan} (₹${formData.price})
Website Type: ${formData.websiteType}
Description: ${formData.description}
        `);

        try {
            // Send image + text to Telegram
            const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendPhoto`, {
                method: "POST",
                body: imageForm
            });

            if (response.ok) {
                alert("Your request has been submitted successfully! We will contact you soon.");
                sessionStorage.removeItem('formData');
                window.location.href = 'index.html';
            } else {
                alert("Failed to send your request. Please try again.");
                submitStatus.style.display = 'none';
            }

        } catch (error) {
            console.error(error);
            alert("Error sending data to Telegram.");
            submitStatus.style.display = 'none';
        }
    });
});
        
    </script>
    <!-- WhatsApp Floating Button -->
<a href="https://wa.me/919988720946" target="_blank" class="whatsapp-float">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" />
</a>

<style>
.whatsapp-float {
    position: fixed;
    width: 60px;
    height: 60px;
    bottom: 30px;
    right: 30px;
    background-color: #25D366;
    border-radius: 50%;
    text-align: center;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s;
}
.whatsapp-float:hover {
    transform: scale(1.1);
}
.whatsapp-float img {
    width: 35px;
    height: 35px;
}
</style>
</body>
</html>
